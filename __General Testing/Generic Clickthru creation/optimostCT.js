var $o_ct=function(){var A=new Object;A.name="$o_ct.setClickthru";function B(C,D){D=(D!=null)?D:true;C=C||"";if(C.toLowerCase().substr(0,4)!="http"){var F=null;if(D&&document.getElementsByTagName("base")[0]){F=document.createElement("a");F.href=document.getElementsByTagName("base")[0].href}else{F=location}if(F){var E=F.pathname.substr(0,F.pathname.lastIndexOf("/")+1);C=F.protocol+"//"+F.hostname+((C.substr(0,1)=="/")?C:((E.substr(0,1)!="/")?"/":"")+E+C);if(F.tagName&&F.tagName.toLowerCase()=="a"){F=null}}}return C}A.getActionObj=function(C,E){var D=null;if(E=="post"||E=="get"){D=C.attributes.getNamedItem("action");if(!D){C.setAttribute("action","");D=C.attributes.getNamedItem("action")}}return D};A.setGetCT=function(D,C,F,H,E){var G=document.createElement("input");G.type="hidden";G.name=F;G.value=E;if(D&&D.appendChild){D.appendChild(G)}H.nodeValue=C};A.getAttribs=function(E){var C="";if(typeof(E)=="object"&&E!=null){for(var D in E){C+=(((C!=""))?"&":"")+D+"="+E[D]}}return C};A.inWList=function(C){if($o_ct.whiteList.length==0){return false}else{if($o_ct.whiteList.length>0&&$o_ct.whiteList[0]=="universal"){return true}}for(var D=0;D<$o_ct.whiteList.length;D++){if(C.toLowerCase().indexOf($o_ct.whiteList[D].toLowerCase())>-1){return true}}return false};A.setTargetCT=function(D,C){if(D.onclick&&D.onclick.toString().indexOf("return "+A.name)>-1){window.open(C);return false}return true};A.setTarget=function(C){if(C.indexOf("return")==-1){C="return "+C}return C};A.setObjToString=function(E){var C="";if(E!=null&&typeof(E)=="object"){for(var D in E){C+="'"+D+"':'"+E[D]+"',"}C=C.replace(/\,$/,"")}if(C!=""){C="{"+C+"}"}return C};return{setClickthru:function(I,C,E,J){if(!I||!(I.attributes&&I.attributes.getNamedItem)||!I.tagName){return false}var H=(I.tagName.toLowerCase()!="form")?"link":(I.method&&I.method.toLowerCase()=="post")?"post":"get";var G=null;if(H=="link"){G=I.attributes.getNamedItem("href")}else{if(A.getActionObj){G=A.getActionObj(I,H)}}if(G==null||G.nodeValue==null){return true}var D=G.nodeValue;if(D.toLowerCase().indexOf("optimost.com")>-1||D.toLowerCase().indexOf("javascript:")>-1||D.indexOf("#")>-1){return true}D=(D.toLowerCase().substr(0,4).indexOf("http")>-1)?D:B(D);if(A.inWList&&!A.inWList(D)){return true}if(A.getAttribs&&J){var F=A.getAttribs(J);if(F!=""){C+=((C.indexOf("?")>-1)?"&":"?")+F}}if(E==null){G.nodeValue=C}else{if(H!="get"){C+=(C.indexOf("?")>-1?"&":"?")+E+"="+escape(D);if(A.setTargetCT&&H=="link"&&I.target&&I.target.toLowerCase().indexOf("blank")>-1){return A.setTargetCT(I,C)}G.nodeValue=C}else{if(H=="get"&&A.setGetCT){A.setGetCT(I,C,E,G,D)}}}return true},setOnclick:function(H,F,E,K){if(!H||!(H.attributes&&H.attributes.getNamedItem)||!H.tagName){return true}if(H.opTargetSet==null){H.opTargetSet="set"}else{return true}var C=(H.tagName.toLowerCase()!="form")?"link":"form";var I=A.name+"(this, '"+F+"'";var G="";var D="onclick";if(E){I+=",'"+E+"'"}if(K!=null&&A.setObjToString){var J=A.setObjToString(K);if(J!=""){I+=","+J}}I+=");";if(C=="link"){if(H.onclick!=null){G=H.onclick.toString()}}else{if(C=="form"&&H.onsubmit!=null){G=H.onsubmit.toString();D="onsubmit"}else{if(C=="form"){D="onsubmit"}}}G=(G!="")?G.substring(G.indexOf("{")+1,G.lastIndexOf("}")):"";if(A.setTarget&&C=="link"&&H.target&&H.target.toLowerCase().indexOf("blank")>-1){I=G+";"+A.setTarget(I)}else{I+=G}H[D]=new Function(I);return true},getUrl:function(C,D){return B(C,D)},containerObject:function(G,D,F,C,E){this.ctVal=G;this.elType=D;this.obj=F;this.qs=C;this.debugColor=E},individuallObject:function(I,E,G,F,C,D,H){this.ctVal=I;this.elType=E;this.obj=G;this.attribute=F;this.value=C;this.qs=D;this.debugColor=H},processContainers:function(D){if((D.elType=="a"||D.elType=="area"||D.elType=="form")&&D.obj!=null&&D.obj.nodeType==1&&D.ctVal!=""&&D.qs!=""){var E=new Array;if(D.obj.tagName.toLowerCase()==D.elType){E[0]=D.obj}else{E=D.obj.getElementsByTagName(D.elType)}for(var C=0;C<E.length;C++){if(D.elType=="form"){if((E[C].method.toLowerCase()=="get"&&D.ctVal.toLowerCase().indexOf("/go/")!=-1)||(E[C].method.toLowerCase()=="post"&&D.ctVal.toLowerCase().indexOf("/post/")!=-1)){this.setOnclick(E[C],D.ctVal,D.qs);if(D.debugColor!=null){E[C].style.backgroundColor=D.debugColor}}}else{this.setOnclick(E[C],D.ctVal,D.qs);if(D.debugColor!=null){E[C].style.backgroundColor=D.debugColor}}}}},processIndividual:function(D){if((D.elType=="a"||D.elType=="area"||D.elType=="form")&&D.obj!=null&&D.obj.nodeType==1&&D.ctVal!=""&&D.qs!=""&&D.attribute!=""&&D.value!=""){var E=new Array;if(D.obj.tagName.toLowerCase()==D.elType){E[0]=D.obj}else{E=D.obj.getElementsByTagName(D.elType)}for(var C=0;C<E.length;C++){if(E[C][D.attribute].indexOf(D.value)!=-1){if(D.elType=="form"){if((E[C].method.toLowerCase()=="get"&&D.ctVal.toLowerCase().indexOf("/go/")!=-1)||(E[C].method.toLowerCase()=="post"&&D.ctVal.toLowerCase().indexOf("/post/")!=-1)){this.setOnclick(E[C],D.ctVal,D.qs)}}else{this.setOnclick(E[C],D.ctVal,D.qs)}}}}},whiteLists:Array}}();if(typeof(opGenericCT)=="function")opGenericCT();