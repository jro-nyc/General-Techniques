<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" dir="ltr" lang="en"><head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<meta name="generator" content="MediaWiki 1.13.1">
		<meta name="keywords" content="Removing/replacing &quot;bracketed&quot; text with Unicode,Regular expressions">
		<link rel="shortcut icon" href="http://wiki.interwoven.com/favicon.ico">
		<link rel="search" type="application/opensearchdescription+xml" href="http://wiki.interwoven.com/opwiki/opensearch_desc.php" title="Optimost Wiki (en)">
		<link rel="alternate" type="application/rss+xml" title="Optimost Wiki RSS Feed" href="http://wiki.interwoven.com/opwiki/index.php?title=Special:RecentChanges&amp;feed=rss">
		<link rel="alternate" type="application/atom+xml" title="Optimost Wiki Atom Feed" href="http://wiki.interwoven.com/opwiki/index.php?title=Special:RecentChanges&amp;feed=atom">
		<title>Removing/replacing "bracketed" text with Unicode - Optimost Wiki</title>
		<style type="text/css" media="screen, projection">/*<![CDATA[*/
			@import "/opwiki/skins/common/shared.css?164";
			@import "/opwiki/skins/monobook/main.css?164";
		/*]]>*/</style>
		<link rel="stylesheet" type="text/css" media="print" href="Removing_replacing%20%27bracketed%27%20text%20with%20Unicode%20-%20Optimost%20Wiki_files/commonPrint.css">
		<!--[if lt IE 5.5000]><style type="text/css">@import "/opwiki/skins/monobook/IE50Fixes.css?164";</style><![endif]-->
		<!--[if IE 5.5000]><style type="text/css">@import "/opwiki/skins/monobook/IE55Fixes.css?164";</style><![endif]-->
		<!--[if IE 6]><style type="text/css">@import "/opwiki/skins/monobook/IE60Fixes.css?164";</style><![endif]-->
		<!--[if IE 7]><style type="text/css">@import "/opwiki/skins/monobook/IE70Fixes.css?164";</style><![endif]-->
		<!--[if lt IE 7]><script type="text/javascript" src="/opwiki/skins/common/IEFixes.js?164"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->
		
		<script type="text/javascript">/*<![CDATA[*/
var skin = "monobook";
var stylepath = "/opwiki/skins";
var wgArticlePath = "/optimost/$1";
var wgScriptPath = "/opwiki";
var wgScript = "/opwiki/index.php";
var wgVariantArticlePath = false;
var wgActionPaths = [];
var wgServer = "http://wiki.interwoven.com";
var wgCanonicalNamespace = "";
var wgCanonicalSpecialPageName = false;
var wgNamespaceNumber = 0;
var wgPageName = "Removing/replacing_\"bracketed\"_text_with_Unicode";
var wgTitle = "Removing/replacing \"bracketed\" text with Unicode";
var wgAction = "view";
var wgArticleId = "721";
var wgIsArticle = true;
var wgUserName = null;
var wgUserGroups = null;
var wgUserLanguage = "en";
var wgContentLanguage = "en";
var wgBreakFrames = false;
var wgCurRevisionId = "6457";
var wgVersion = "1.13.1";
var wgEnableAPI = true;
var wgEnableWriteAPI = false;
var wgRestrictionEdit = [];
var wgRestrictionMove = [];
/*]]>*/</script>
                
		<script type="text/javascript" src="Removing_replacing%20%27bracketed%27%20text%20with%20Unicode%20-%20Optimost%20Wiki_files/wikibits.js"><!-- wikibits js --></script>
		<!-- Head Scripts -->
		<script type="text/javascript" src="Removing_replacing%20%27bracketed%27%20text%20with%20Unicode%20-%20Optimost%20Wiki_files/ajax.js"></script>
		<script type="text/javascript" src="Removing_replacing%20%27bracketed%27%20text%20with%20Unicode%20-%20Optimost%20Wiki_files/index.php"><!-- site js --></script><script type="text/javascript" src="Removing_replacing%20%27bracketed%27%20text%20with%20Unicode%20-%20Optimost%20Wiki_files/index_002.php"></script>
		<style type="text/css">/*<![CDATA[*/
@import "/opwiki/index.php?title=MediaWiki:Common.css&usemsgcache=yes&action=raw&ctype=text/css&smaxage=18000";
@import "/opwiki/index.php?title=MediaWiki:Monobook.css&usemsgcache=yes&action=raw&ctype=text/css&smaxage=18000";
@import "/opwiki/index.php?title=-&action=raw&gen=css&maxage=18000";
/*]]>*/</style>
	</head>
<body class="mediawiki ns-0 ltr page-Removing_replacing_bracketed_text_with_Unicode">
	<div id="globalWrapper">
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>
				<h1 class="firstHeading">Removing/replacing "bracketed" text with Unicode</h1>
		<div id="bodyContent">
			<h3 id="siteSub">From Optimost Wiki</h3>
			<div id="contentSub"></div>
									<div id="jump-to-nav">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>			<!-- start content -->
			<table id="toc" class="toc" summary="Contents"><tbody><tr><td><div id="toctitle"><h2>Contents</h2> <span class="toctoggle">[<a href="javascript:toggleToc()" class="internal" id="togglelink">hide</a>]</span></div>
<ul>
<li class="toclevel-1"><a href="#Introduction"><span class="tocnumber">1</span> <span class="toctext">Introduction</span></a>
<ul>
<li class="toclevel-2"><a href="#Creating_the_regexp_value"><span class="tocnumber">1.1</span> <span class="toctext">Creating the regexp value</span></a></li>
<li class="toclevel-2"><a href="#More_specific_regexp_value"><span class="tocnumber">1.2</span> <span class="toctext">More specific regexp value</span></a></li>
<li class="toclevel-2"><a href="#Dealing_with_Unicode"><span class="tocnumber">1.3</span> <span class="toctext">Dealing with Unicode</span></a></li>
<li class="toclevel-2"><a href="#Removing_Script_tags_from_innerHTML"><span class="tocnumber">1.4</span> <span class="toctext">Removing Script tags from innerHTML</span></a></li>
</ul>
</li>
</ul>
</td></tr></tbody></table><script type="text/javascript"> if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } </script>
<a name="Introduction"></a><h2> <span class="mw-headline"> Introduction </span></h2>
<p>I was working on an Asian languauge website, and the STP specificed 
that I needed to removed content that was inside some brackets - 
something like <b>(PDF, 2.88MB</b>) - from the page.  This test spanned across several products, the size of the PDF would change.
</p>
<a name="Creating_the_regexp_value"></a><h3> <span class="mw-headline">Creating the regexp value</span></h3>
<p>So I am looking for a single opening bracket, followed by text and 
then a single closing bracket.  For that, the code looks like:
</p>
<pre>var myNode=document.getElementById('headline');
if(myNode!=null){
	var myVal=myNode.innerHTML;
	var regExVal=/\(+.+\)/;
	myVal=myVal.replace(regExVal,'');
	myNode.innerHTML=myVal;
}
</pre>
<p>The variable <b>regExVal</b> contains our string - <b>/\(+.+\)/</b> - which can be broken down into:
</p>
<ol><li>The '<b>/'</b> before and after demark my regexp value, like a quote around a string.
</li><li>The '<b>\('</b> means I am looking for an opening bracket, the '<b>\'</b> needed to escape the '<b>('</b> since that is a special character in regexp.
</li><li>The '<b>+.'</b> means it is followed by any number of characters.
</li><li>The '<b>+\)'</b> means it is followed by a closing bracket, the '<b>\'</b> needed to escape the '<b>)'</b> since that is a special character in regexp.
</li></ol>
<p><br>
</p>
<a name="More_specific_regexp_value"></a><h3> <span class="mw-headline">More specific regexp value</span></h3>
<p>I then realized I also had places in the code with brackets that I 
did not want to remove.   I only wanted to removed if is had the "PDF" 
right after the opening bracket.  So the value became:
</p>
<pre>var myNode=document.getElementById('headline');
if(myNode!=null){
	var myVal=myNode.innerHTML;
	var regExVal=/\(PDF+.+\)/;
	myVal=myVal.replace(regExVal,'');
	myNode.innerHTML=myVal;
}
</pre>
<a name="Dealing_with_Unicode"></a><h3> <span class="mw-headline">Dealing with Unicode</span></h3>
<p>So I tested this in the Agency, worked fine, went to the QA 
environment..... nope.  What?  So I spent a while trying to figure it 
out, finally took the string and cut and paste it into my Unicode 
conversion tool,&nbsp;:
</p><p><a href="http://asp.optimost.com/webtest/jim/UnicodeHexLookup_JR.html" class="external free" title="http://asp.optimost.com/webtest/jim/UnicodeHexLookup_JR.html" rel="nofollow">http://asp.optimost.com/webtest/jim/UnicodeHexLookup_JR.html</a>
</p><p>and then noticed that the customer did not have ASCII brackets, but suddenly UNICODE brackts, <b>\uff08</b> and <b>\uff09</b>.   So now my value becomes:
</p>
<pre>var regExVal=/\uff08+PDF+.+\uff09/;  
</pre>
<a name="Removing_Script_tags_from_innerHTML"></a><h3> <span class="mw-headline">Removing Script tags from innerHTML</span></h3>
<p>You've seen this one - you have a GeoTrust or Verisign image that is 
genereate using a script tag, and you want to remove it and copy it into
 our content.  But is you read the innerHTML, you'll get it twice 
because the innerHTML has the script tag AND what it generates, the 
image, so now you use the innerHTML and you get the image twice.
</p>
<pre>&lt;div id="hola"&gt;
	&lt;Script language="JavaScript" src="http://asp.optimost.com/webtest/jim/uCounterCode.js" type="text/javascript"&gt;&lt;/script&gt;
	&lt;a tabindex="-1" href="https://smarticon.geotrust.com/smarticonprofile?Referer=http://www.metlife.com" onclick="return gt__md();" target="GT__SIP"&gt;
	&lt;img name="lrmymded" src="//smarticon.geotrust.com/smarticon?ref=www.metlife.com" alt="Click for company profile" oncontextmenu="return false;" border="0" height="55" width="115"&gt;
	&lt;/a&gt;
&lt;/div&gt;
</pre>
<p>And here is the code:
</p>
<pre>&lt;script&gt;
obj=document.getElementById('hola');	
if(obj){
	myVal=obj.innerHTML;
	alert(myVal); //Value before script tags removed
	var regExVal=/\&lt;script+.+\/script\&gt;/i;
	myVal=myVal.replace(regExVal,'');
	alert(myVal); //Value AFTER script tags removed}
&lt;/script&gt;
</pre>
<p>Return to <a href="http://wiki.interwoven.com/optimost/Regular_expressions" title="Regular expressions">Regular expressions</a>
</p>
<!-- 
NewPP limit report
Preprocessor node count: 21/1000000
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key optimost_wiki:pcache:idhash:721-0!1!0!!en!2!edit=0 and timestamp 20130816143829 -->
<div class="printfooter">
Retrieved from "<a href="http://wiki.interwoven.com/optimost/Removing/replacing_%22bracketed%22_text_with_Unicode">http://wiki.interwoven.com/optimost/Removing/replacing_%22bracketed%22_text_with_Unicode</a>"</div>
						<!-- end content -->
			<div class="visualClear"></div>
		</div>
	</div>
		</div>
		<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<div class="pBody">
			<ul>
	
				 <li id="ca-nstab-main" class="selected"><a href="http://wiki.interwoven.com/optimost/Removing/replacing_%22bracketed%22_text_with_Unicode" title="View the content page [alt-shift-c]" accesskey="c">Page</a></li>
				 <li id="ca-talk" class="new"><a href="http://wiki.interwoven.com/opwiki/index.php?title=Talk:Removing/replacing_%22bracketed%22_text_with_Unicode&amp;action=edit" title="Discussion about the content page [alt-shift-t]" accesskey="t">Discussion</a></li>
				 <li id="ca-viewsource"><a href="http://wiki.interwoven.com/opwiki/index.php?title=Removing/replacing_%22bracketed%22_text_with_Unicode&amp;action=edit" title="This page is protected.
You can view its source. [alt-shift-e]" accesskey="e">View source</a></li>
				 <li id="ca-history"><a href="http://wiki.interwoven.com/opwiki/index.php?title=Removing/replacing_%22bracketed%22_text_with_Unicode&amp;action=history" title="Past versions of this page. [alt-shift-h]" accesskey="h">History</a></li>			</ul>
		</div>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Personal tools</h5>
		<div class="pBody">
			<ul>
				<li id="pt-anonuserpage"><a href="http://wiki.interwoven.com/optimost/User:10.26.10.11" title="The user page for the ip you're editing as [alt-shift-.]" accesskey="." class="new">10.26.10.11</a></li>
				<li id="pt-anontalk"><a href="http://wiki.interwoven.com/optimost/User_talk:10.26.10.11" title="Discussion about edits from this ip address [alt-shift-n]" accesskey="n" class="new">Talk for this IP</a></li>
				<li id="pt-anonlogin"><a href="http://wiki.interwoven.com/opwiki/index.php?title=Special:UserLogin&amp;returnto=Removing/replacing_%22bracketed%22_text_with_Unicode" title="You are encouraged to log in, it is not mandatory however. [alt-shift-o]" accesskey="o">Log in / create account</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
		<a style="background-image: url(http://wiki.interwoven.com/opwiki/images/1/18/Logo_optimost.gif);" href="http://wiki.interwoven.com/optimost/Home" title="Visit the Main Page [alt-shift-z]" accesskey="z"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
	<div id="p-search" class="portlet">
		<h5><label for="searchInput">Search</label></h5>
		<div id="searchBody" class="pBody">
			<form action="/optimost/Special:Search" id="searchform"><div>
				<input id="searchInput" name="search" title="Search Optimost Wiki [alt-shift-f]" accesskey="f" type="text">
				<input name="go" class="searchButton" id="searchGoButton" value="Go" title="Go to a page with this exact name if exists" type="submit">&nbsp;
				<input name="fulltext" class="searchButton" id="mw-searchButton" value="Search" title="Search the pages for this text" type="submit">
			</div></form>
		</div>
	</div>
	<div class="generated-sidebar portlet" id="p-navigation">
		<h5>Navigation</h5>
		<div class="pBody">
			<ul>
				<li id="n-mainpage"><a href="http://wiki.interwoven.com/optimost/Home" title="Visit the Main Page [alt-shift-z]" accesskey="z">Home</a></li>
				<li id="n-recentchanges"><a href="http://wiki.interwoven.com/optimost/Special:RecentChanges" title="The list of recent changes in the wiki. [alt-shift-r]" accesskey="r">Recent changes</a></li>
				<li id="n-randompage"><a href="http://wiki.interwoven.com/optimost/Special:Random" title="Load a random page [alt-shift-x]" accesskey="x">Random page</a></li>
				<li id="n-Accounts"><a href="http://wiki.interwoven.com/optimost/Accounts">Accounts</a></li>
				<li id="n-Glossary"><a href="http://wiki.interwoven.com/optimost/Glossary">Glossary</a></li>
				<li id="n-help"><a href="http://wiki.interwoven.com/optimost/Help:Contents" title="The place to find out.">Help</a></li>
			</ul>
		</div>
	</div>
	<div class="generated-sidebar portlet" id="p-departments">
		<h5>departments</h5>
		<div class="pBody">
			<ul>
				<li id="n-Analytics"><a href="http://wiki.interwoven.com/optimost/Analytics_%28Department%29">Analytics</a></li>
				<li id="n-Client-Services"><a href="http://wiki.interwoven.com/optimost/Category:Client_Services">Client Services</a></li>
				<li id="n-Documentation"><a href="http://wiki.interwoven.com/optimost/Documentation">Documentation</a></li>
				<li id="n-Engineering"><a href="http://wiki.interwoven.com/optimost/Engineering">Engineering</a></li>
				<li id="n-Quality-Assurance"><a href="http://wiki.interwoven.com/optimost/Category:Quality_Assurance">Quality Assurance</a></li>
				<li id="n-Technical-Consulting"><a href="http://wiki.interwoven.com/optimost/Technical_consulting">Technical Consulting</a></li>
				<li id="n-Training-.26-Education"><a href="http://wiki.interwoven.com/optimost/Training_and_education">Training &amp; Education</a></li>
			</ul>
		</div>
	</div>
	<div class="generated-sidebar portlet" id="p-links">
		<h5>links</h5>
		<div class="pBody">
			<ul>
				<li id="n-Optimost-Console"><a href="http://asp.optimost.com/agency">Optimost Console</a></li>
				<li id="n-Optimost-Public-Site"><a href="http://www.interwoven.com/optimost">Optimost Public Site</a></li>
				<li id="n-Netspeed"><a href="http://netspeed/">Netspeed</a></li>
				<li id="n-SalesSite"><a href="http://salessite/">SalesSite</a></li>
				<li id="n-WorkSite"><a href="https://worksitemp.interwoven.com/worksitemp/link//V3/INTERWOVEN/C/F$217/C$14610/">WorkSite</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Toolbox</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="http://wiki.interwoven.com/optimost/Special:WhatLinksHere/Removing/replacing_%22bracketed%22_text_with_Unicode" title="List of all wiki pages that link here [alt-shift-j]" accesskey="j">What links here</a></li>
				<li id="t-recentchangeslinked"><a href="http://wiki.interwoven.com/optimost/Special:RecentChangesLinked/Removing/replacing_%22bracketed%22_text_with_Unicode" title="Recent changes in pages linked from this page [alt-shift-k]" accesskey="k">Related changes</a></li>
<li id="t-upload"><a href="http://wiki.interwoven.com/optimost/Special:Upload" title="Upload files [alt-shift-u]" accesskey="u">Upload file</a></li>
<li id="t-specialpages"><a href="http://wiki.interwoven.com/optimost/Special:SpecialPages" title="List of all special pages [alt-shift-q]" accesskey="q">Special pages</a></li>
				<li id="t-print"><a href="http://wiki.interwoven.com/opwiki/index.php?title=Removing/replacing_%22bracketed%22_text_with_Unicode&amp;printable=yes" title="Printable version of this page [alt-shift-p]" accesskey="p">Printable version</a></li>				<li id="t-permalink"><a href="http://wiki.interwoven.com/opwiki/index.php?title=Removing/replacing_%22bracketed%22_text_with_Unicode&amp;oldid=6457" title="Permanent link to this version of the page">Permanent link</a></li>			</ul>
		</div>
	</div>
		</div><!-- end of the left (by default at least) column -->
			<div class="visualClear"></div>
			<div id="footer">
				<div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="Removing_replacing%20%27bracketed%27%20text%20with%20Unicode%20-%20Optimost%20Wiki_files/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki"></a></div>
			<ul id="f-list">
				<li id="lastmod"> This page was last modified on 12 June 2012, at 19:20.</li>
				<li id="viewcount">This page has been accessed 41 times.</li>
				<li id="privacy"><a href="http://wiki.interwoven.com/optimost/Optimost_Wiki:Privacy_policy" title="Optimost Wiki:Privacy policy">Privacy policy</a></li>
				<li id="about"><a href="http://wiki.interwoven.com/optimost/Optimost_Wiki:About" title="Optimost Wiki:About">About Optimost Wiki</a></li>
				<li id="disclaimer"><a href="http://wiki.interwoven.com/optimost/Optimost_Wiki:General_disclaimer" title="Optimost Wiki:General disclaimer">Disclaimers</a></li>
			</ul>
		</div>
</div>

		<script type="text/javascript">if (window.runOnloadHook) runOnloadHook();</script>
<!-- Served in 0.205 secs. -->
</body></html>