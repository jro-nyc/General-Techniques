<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" dir="ltr" lang="en"><head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<meta name="generator" content="MediaWiki 1.13.1">
		<meta name="keywords" content="Tealeaf-Optimost Integration">
		<link rel="shortcut icon" href="http://wiki.interwoven.com/favicon.ico">
		<link rel="search" type="application/opensearchdescription+xml" href="http://wiki.interwoven.com/opwiki/opensearch_desc.php" title="Optimost Wiki (en)">
		<link rel="alternate" type="application/rss+xml" title="Optimost Wiki RSS Feed" href="http://wiki.interwoven.com/opwiki/index.php?title=Special:RecentChanges&amp;feed=rss">
		<link rel="alternate" type="application/atom+xml" title="Optimost Wiki Atom Feed" href="http://wiki.interwoven.com/opwiki/index.php?title=Special:RecentChanges&amp;feed=atom">
		<title>Tealeaf-Optimost Integration - Optimost Wiki</title>
		<style type="text/css" media="screen, projection">/*<![CDATA[*/
			@import "/opwiki/skins/common/shared.css?164";
			@import "/opwiki/skins/monobook/main.css?164";
		/*]]>*/</style>
		<link rel="stylesheet" type="text/css" media="print" href="Tealeaf-Optimost%20Integration%20-%20Optimost%20Wiki_files/commonPrint.css">
		<!--[if lt IE 5.5000]><style type="text/css">@import "/opwiki/skins/monobook/IE50Fixes.css?164";</style><![endif]-->
		<!--[if IE 5.5000]><style type="text/css">@import "/opwiki/skins/monobook/IE55Fixes.css?164";</style><![endif]-->
		<!--[if IE 6]><style type="text/css">@import "/opwiki/skins/monobook/IE60Fixes.css?164";</style><![endif]-->
		<!--[if IE 7]><style type="text/css">@import "/opwiki/skins/monobook/IE70Fixes.css?164";</style><![endif]-->
		<!--[if lt IE 7]><script type="text/javascript" src="/opwiki/skins/common/IEFixes.js?164"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->
		
		<script type="text/javascript">/*<![CDATA[*/
var skin = "monobook";
var stylepath = "/opwiki/skins";
var wgArticlePath = "/optimost/$1";
var wgScriptPath = "/opwiki";
var wgScript = "/opwiki/index.php";
var wgVariantArticlePath = false;
var wgActionPaths = [];
var wgServer = "http://wiki.interwoven.com";
var wgCanonicalNamespace = "";
var wgCanonicalSpecialPageName = false;
var wgNamespaceNumber = 0;
var wgPageName = "Tealeaf-Optimost_Integration";
var wgTitle = "Tealeaf-Optimost Integration";
var wgAction = "view";
var wgArticleId = "1171";
var wgIsArticle = true;
var wgUserName = null;
var wgUserGroups = null;
var wgUserLanguage = "en";
var wgContentLanguage = "en";
var wgBreakFrames = false;
var wgCurRevisionId = "6929";
var wgVersion = "1.13.1";
var wgEnableAPI = true;
var wgEnableWriteAPI = false;
var wgRestrictionEdit = [];
var wgRestrictionMove = [];
/*]]>*/</script>
                
		<script type="text/javascript" src="Tealeaf-Optimost%20Integration%20-%20Optimost%20Wiki_files/wikibits.js"><!-- wikibits js --></script>
		<!-- Head Scripts -->
		<script type="text/javascript" src="Tealeaf-Optimost%20Integration%20-%20Optimost%20Wiki_files/ajax.js"></script>
		<script type="text/javascript" src="Tealeaf-Optimost%20Integration%20-%20Optimost%20Wiki_files/index.php"><!-- site js --></script><script type="text/javascript" src="Tealeaf-Optimost%20Integration%20-%20Optimost%20Wiki_files/index_002.php"></script>
		<style type="text/css">/*<![CDATA[*/
@import "/opwiki/index.php?title=MediaWiki:Common.css&usemsgcache=yes&action=raw&ctype=text/css&smaxage=18000";
@import "/opwiki/index.php?title=MediaWiki:Monobook.css&usemsgcache=yes&action=raw&ctype=text/css&smaxage=18000";
@import "/opwiki/index.php?title=-&action=raw&gen=css&maxage=18000";
/*]]>*/</style>
	</head>
<body class="mediawiki ns-0 ltr page-Tealeaf-Optimost_Integration">
	<div id="globalWrapper">
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>
				<h1 class="firstHeading">Tealeaf-Optimost Integration</h1>
		<div id="bodyContent">
			<h3 id="siteSub">From Optimost Wiki</h3>
			<div id="contentSub"></div>
									<div id="jump-to-nav">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>			<!-- start content -->
			<table id="toc" class="toc" summary="Contents"><tbody><tr><td><div id="toctitle"><h2>Contents</h2> <span class="toctoggle">[<a href="javascript:toggleToc()" class="internal" id="togglelink">hide</a>]</span></div>
<ul>
<li class="toclevel-1"><a href="#Overview"><span class="tocnumber">1</span> <span class="toctext">Overview</span></a>
<ul>
<li class="toclevel-2"><a href="#Integration_with_Upromise"><span class="tocnumber">1.1</span> <span class="toctext">Integration with Upromise</span></a></li>
<li class="toclevel-2"><a href="#More_technical_information"><span class="tocnumber">1.2</span> <span class="toctext">More technical information</span></a>
<ul>
<li class="toclevel-3"><a href="#Code_for_Step_1"><span class="tocnumber">1.2.1</span> <span class="toctext">Code for Step 1</span></a></li>
<li class="toclevel-3"><a href="#Code_for_Step_2"><span class="tocnumber">1.2.2</span> <span class="toctext">Code for Step 2</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</td></tr></tbody></table><script type="text/javascript"> if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } </script>
<a name="Overview"></a><h1> <span class="mw-headline">Overview</span></h1>
<p>Tealeaf captures website interaction from the actual users' 
perspectives.  Tealeaf's products are used to provide visibility into 
the online customer experience by capturing, analyzing and replaying 
details of customers' visits to find site errors or issues and 
understand the impact that transaction failures have on business 
processes.<br><br>
Upromise is a customer that uses Tealeaf, and in using Optimost, wanted 
us to provide information to Tealeaf to integrate some of our tracking 
information into the product.
</p>
<a name="Integration_with_Upromise"></a><h2> <span class="mw-headline">Integration with Upromise</span></h2>
<p>There are 2 sides to this tracking:
</p>
<ol><li>Having the Optimost code fire a tracking pixel to Tealeaf on 
every page view containing the following Optimost session information:
<ul><li>The Session ID
</li><li>The Creative ID
</li><li>The Wave ID
</li><li>The Segment/Persona ID
</li><li>All this was passed as QS parameters in tracking pixel call to <b>https://apply.salliemae.com/SLMASharedWeb/Plugins/Optimost/tl_img.html</b>
</li></ul>
</li><li>Having the Optimost code fire a tracking pixel to Optimost, this one to store:
<ul><li>The Tealeaf Session ID
</li><li>The Optimost Creative ID
</li><li>The Optimost Session ID
</li></ul>
</li></ol>
<a name="More_technical_information"></a><h2> <span class="mw-headline">More technical information</span></h2>
<p>Here are code examples for the tracking, written by Teddy 
Papadopoulos. Note that I am only showing the specific code that makes 
the calls, not the object, function, and other overhead code needed to 
do this.  <b>Plugging this code into your page will not work.</b> Just a guide to show what needs to be done.
</p>
<a name="Code_for_Step_1"></a><h3> <span class="mw-headline">Code for Step 1</span></h3>
<p>For step 1, we have to consider that there are 2 environments, the QA and production
</p>
<ul><li>QA3 – <b>https://opennetwld-qa4.salliemae.com/SLMASharedWeb/Plugins/Optimost/tl_img.html</b>   
</li><li>Prod – <b>https://apply.salliemae.com/SLMASharedWeb/Plugins/Optimost/tl_img.html</b>
</li></ul>
<p>When we fire the pixel, we need to use an environment-specific URL, so here is the code used:
</p>
<pre>optg.v.astat.urlTealeaf = "https://apply.salliemae.com/SLMASharedWeb/Plugins/Optimost/tl_img.html";
if(document.location.hostname.indexOf("opennet") &gt; -1){
          optg.v.astat.urlTealeaf = "https://" + document.location.hostname + "/SLMASharedWeb/Plugins/Optimost/tl_img.html";
}
optg.v.astat.urlTealeaf +="?op568appstatuseborrowersmessageliid=" + escape("{{$creative.sessionId}}")+"&amp;creativeId={{$creative.creativeId}}" +"&amp;waveId={{$creative.waveId}}"+"&amp;personaId={{$creative.segmentId}}";
optg.f.astat.bc.fireCounter(optg.v.astat.urlTealeaf);
</pre>
<p>So we set the tracking pixel URL, check to see what domain we are in -
 and if so, change the tracking pixel URL - then add the Optimost 
variables and fire the pixel. 
</p>
<a name="Code_for_Step_2"></a><h3> <span class="mw-headline">Code for Step 2</span></h3>
<p>Here is some code that does Step 2:
</p>
<pre>//Counter: OLA - Tealeaf Session
optg.v.astat.counterVar50 = "https://by.essl.optimost.com/by/counter/568/-/85/event.gif?op568appstatuseborrowersmessageliid={{$creative.sessionId}}&amp;opVar50=" + optg.v.astat.opVar50;
optg.f.astat.bc.fireCounter(optg.v.astat.counterVar50);
</pre>
<p>The first line creates the URL, the second fires the tracking pixel.  Note that the customer sets a variable <b>opVar50</b> - containing the Tealeaf session ID - which is then passed into <b>optg.v.astat.opVar50</b>
</p>
<!-- 
NewPP limit report
Preprocessor node count: 14/1000000
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key optimost_wiki:pcache:idhash:1171-0!1!0!!en!2!edit=0 and timestamp 20130816144627 -->
<div class="printfooter">
Retrieved from "<a href="http://wiki.interwoven.com/optimost/Tealeaf-Optimost_Integration">http://wiki.interwoven.com/optimost/Tealeaf-Optimost_Integration</a>"</div>
						<!-- end content -->
			<div class="visualClear"></div>
		</div>
	</div>
		</div>
		<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<div class="pBody">
			<ul>
	
				 <li id="ca-nstab-main" class="selected"><a href="http://wiki.interwoven.com/optimost/Tealeaf-Optimost_Integration" title="View the content page [alt-shift-c]" accesskey="c">Page</a></li>
				 <li id="ca-talk" class="new"><a href="http://wiki.interwoven.com/opwiki/index.php?title=Talk:Tealeaf-Optimost_Integration&amp;action=edit" title="Discussion about the content page [alt-shift-t]" accesskey="t">Discussion</a></li>
				 <li id="ca-viewsource"><a href="http://wiki.interwoven.com/opwiki/index.php?title=Tealeaf-Optimost_Integration&amp;action=edit" title="This page is protected.
You can view its source. [alt-shift-e]" accesskey="e">View source</a></li>
				 <li id="ca-history"><a href="http://wiki.interwoven.com/opwiki/index.php?title=Tealeaf-Optimost_Integration&amp;action=history" title="Past versions of this page. [alt-shift-h]" accesskey="h">History</a></li>			</ul>
		</div>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Personal tools</h5>
		<div class="pBody">
			<ul>
				<li id="pt-anonuserpage"><a href="http://wiki.interwoven.com/optimost/User:10.26.10.11" title="The user page for the ip you're editing as [alt-shift-.]" accesskey="." class="new">10.26.10.11</a></li>
				<li id="pt-anontalk"><a href="http://wiki.interwoven.com/optimost/User_talk:10.26.10.11" title="Discussion about edits from this ip address [alt-shift-n]" accesskey="n" class="new">Talk for this IP</a></li>
				<li id="pt-anonlogin"><a href="http://wiki.interwoven.com/opwiki/index.php?title=Special:UserLogin&amp;returnto=Tealeaf-Optimost_Integration" title="You are encouraged to log in, it is not mandatory however. [alt-shift-o]" accesskey="o">Log in / create account</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
		<a style="background-image: url(http://wiki.interwoven.com/opwiki/images/1/18/Logo_optimost.gif);" href="http://wiki.interwoven.com/optimost/Home" title="Visit the Main Page [alt-shift-z]" accesskey="z"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
	<div id="p-search" class="portlet">
		<h5><label for="searchInput">Search</label></h5>
		<div id="searchBody" class="pBody">
			<form action="/optimost/Special:Search" id="searchform"><div>
				<input id="searchInput" name="search" title="Search Optimost Wiki [alt-shift-f]" accesskey="f" type="text">
				<input name="go" class="searchButton" id="searchGoButton" value="Go" title="Go to a page with this exact name if exists" type="submit">&nbsp;
				<input name="fulltext" class="searchButton" id="mw-searchButton" value="Search" title="Search the pages for this text" type="submit">
			</div></form>
		</div>
	</div>
	<div class="generated-sidebar portlet" id="p-navigation">
		<h5>Navigation</h5>
		<div class="pBody">
			<ul>
				<li id="n-mainpage"><a href="http://wiki.interwoven.com/optimost/Home" title="Visit the Main Page [alt-shift-z]" accesskey="z">Home</a></li>
				<li id="n-recentchanges"><a href="http://wiki.interwoven.com/optimost/Special:RecentChanges" title="The list of recent changes in the wiki. [alt-shift-r]" accesskey="r">Recent changes</a></li>
				<li id="n-randompage"><a href="http://wiki.interwoven.com/optimost/Special:Random" title="Load a random page [alt-shift-x]" accesskey="x">Random page</a></li>
				<li id="n-Accounts"><a href="http://wiki.interwoven.com/optimost/Accounts">Accounts</a></li>
				<li id="n-Glossary"><a href="http://wiki.interwoven.com/optimost/Glossary">Glossary</a></li>
				<li id="n-help"><a href="http://wiki.interwoven.com/optimost/Help:Contents" title="The place to find out.">Help</a></li>
			</ul>
		</div>
	</div>
	<div class="generated-sidebar portlet" id="p-departments">
		<h5>departments</h5>
		<div class="pBody">
			<ul>
				<li id="n-Analytics"><a href="http://wiki.interwoven.com/optimost/Analytics_%28Department%29">Analytics</a></li>
				<li id="n-Client-Services"><a href="http://wiki.interwoven.com/optimost/Category:Client_Services">Client Services</a></li>
				<li id="n-Documentation"><a href="http://wiki.interwoven.com/optimost/Documentation">Documentation</a></li>
				<li id="n-Engineering"><a href="http://wiki.interwoven.com/optimost/Engineering">Engineering</a></li>
				<li id="n-Quality-Assurance"><a href="http://wiki.interwoven.com/optimost/Category:Quality_Assurance">Quality Assurance</a></li>
				<li id="n-Technical-Consulting"><a href="http://wiki.interwoven.com/optimost/Technical_consulting">Technical Consulting</a></li>
				<li id="n-Training-.26-Education"><a href="http://wiki.interwoven.com/optimost/Training_and_education">Training &amp; Education</a></li>
			</ul>
		</div>
	</div>
	<div class="generated-sidebar portlet" id="p-links">
		<h5>links</h5>
		<div class="pBody">
			<ul>
				<li id="n-Optimost-Console"><a href="http://asp.optimost.com/agency">Optimost Console</a></li>
				<li id="n-Optimost-Public-Site"><a href="http://www.interwoven.com/optimost">Optimost Public Site</a></li>
				<li id="n-Netspeed"><a href="http://netspeed/">Netspeed</a></li>
				<li id="n-SalesSite"><a href="http://salessite/">SalesSite</a></li>
				<li id="n-WorkSite"><a href="https://worksitemp.interwoven.com/worksitemp/link//V3/INTERWOVEN/C/F$217/C$14610/">WorkSite</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Toolbox</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="http://wiki.interwoven.com/optimost/Special:WhatLinksHere/Tealeaf-Optimost_Integration" title="List of all wiki pages that link here [alt-shift-j]" accesskey="j">What links here</a></li>
				<li id="t-recentchangeslinked"><a href="http://wiki.interwoven.com/optimost/Special:RecentChangesLinked/Tealeaf-Optimost_Integration" title="Recent changes in pages linked from this page [alt-shift-k]" accesskey="k">Related changes</a></li>
<li id="t-upload"><a href="http://wiki.interwoven.com/optimost/Special:Upload" title="Upload files [alt-shift-u]" accesskey="u">Upload file</a></li>
<li id="t-specialpages"><a href="http://wiki.interwoven.com/optimost/Special:SpecialPages" title="List of all special pages [alt-shift-q]" accesskey="q">Special pages</a></li>
				<li id="t-print"><a href="http://wiki.interwoven.com/opwiki/index.php?title=Tealeaf-Optimost_Integration&amp;printable=yes" title="Printable version of this page [alt-shift-p]" accesskey="p">Printable version</a></li>				<li id="t-permalink"><a href="http://wiki.interwoven.com/opwiki/index.php?title=Tealeaf-Optimost_Integration&amp;oldid=6929" title="Permanent link to this version of the page">Permanent link</a></li>			</ul>
		</div>
	</div>
		</div><!-- end of the left (by default at least) column -->
			<div class="visualClear"></div>
			<div id="footer">
				<div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="Tealeaf-Optimost%20Integration%20-%20Optimost%20Wiki_files/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki"></a></div>
			<ul id="f-list">
				<li id="lastmod"> This page was last modified on 15 March 2013, at 21:10.</li>
				<li id="viewcount">This page has been accessed 7 times.</li>
				<li id="privacy"><a href="http://wiki.interwoven.com/optimost/Optimost_Wiki:Privacy_policy" title="Optimost Wiki:Privacy policy">Privacy policy</a></li>
				<li id="about"><a href="http://wiki.interwoven.com/optimost/Optimost_Wiki:About" title="Optimost Wiki:About">About Optimost Wiki</a></li>
				<li id="disclaimer"><a href="http://wiki.interwoven.com/optimost/Optimost_Wiki:General_disclaimer" title="Optimost Wiki:General disclaimer">Disclaimers</a></li>
			</ul>
		</div>
</div>

		<script type="text/javascript">if (window.runOnloadHook) runOnloadHook();</script>
<!-- Served in 0.169 secs. -->
</body></html>